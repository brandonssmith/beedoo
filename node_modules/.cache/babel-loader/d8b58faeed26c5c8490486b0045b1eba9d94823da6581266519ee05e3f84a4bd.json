{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{createTask}from'../utils/taskUtils';import{X}from'lucide-react';import PrioritySelector from'./PrioritySelector';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TaskForm=_ref=>{let{onSubmit,onCancel,taskType='main',parentId,initialData,isEditing=false}=_ref;const[formData,setFormData]=useState({title:'',description:'',estimatedTime:'',priority:'medium'});const titleInputRef=useRef(null);useEffect(()=>{if(initialData){setFormData({title:initialData.title||'',description:initialData.description||'',estimatedTime:initialData.estimatedTime||'',priority:initialData.priority||'medium'});}},[initialData]);useEffect(()=>{// Auto-focus the title input when form opens\nif(titleInputRef.current){titleInputRef.current.focus();}},[]);const handleSubmit=e=>{e.preventDefault();if(!formData.title.trim()){alert('Please enter a task title');return;}const newTask=createTask(formData,taskType,parentId);onSubmit(newTask);};const handleChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));};const getTaskTypeLabel=()=>{switch(taskType){case'main':return'Task';case'subtask':return'Subtask';case'nextStep':return'Next Step';default:return'Task';}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[isEditing?'Edit':'Create',\" \",getTaskTypeLabel()]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{ref:titleInputRef,type:\"text\",id:\"title\",value:formData.title,onChange:e=>handleChange('title',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter task title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:formData.description,onChange:e=>handleChange('description',e.target.value),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter task description (optional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Priority\"}),/*#__PURE__*/_jsx(PrioritySelector,{value:formData.priority,onChange:priority=>handleChange('priority',priority)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"estimatedTime\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Estimated Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"estimatedTime\",value:formData.estimatedTime,onChange:e=>handleChange('estimatedTime',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter estimated time in minutes\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:isEditing?'Update':'Create'})]})]})]})})});};export default TaskForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","createTask","X","PrioritySelector","jsxs","_jsxs","jsx","_jsx","TaskForm","_ref","onSubmit","onCancel","taskType","parentId","initialData","isEditing","formData","setFormData","title","description","estimatedTime","priority","titleInputRef","current","focus","handleSubmit","e","preventDefault","trim","alert","newTask","handleChange","field","value","prev","getTaskTypeLabel","className","children","onClick","htmlFor","ref","type","id","onChange","target","placeholder","required","rows","min"],"sources":["C:/Code/beedoo/src/components/TaskForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Task, TaskFormData, TaskPriority } from '../types/Task';\r\nimport { createTask } from '../utils/taskUtils';\r\nimport { X } from 'lucide-react';\r\nimport PrioritySelector from './PrioritySelector';\r\n\r\ninterface TaskFormProps {\r\n  onSubmit: (task: Task) => void;\r\n  onCancel: () => void;\r\n  taskType?: 'main' | 'subtask' | 'nextStep';\r\n  parentId?: string;\r\n  initialData?: Partial<TaskFormData>;\r\n  isEditing?: boolean;\r\n}\r\n\r\nconst TaskForm: React.FC<TaskFormProps> = ({\r\n  onSubmit,\r\n  onCancel,\r\n  taskType = 'main',\r\n  parentId,\r\n  initialData,\r\n  isEditing = false,\r\n}) => {\r\n  const [formData, setFormData] = useState<TaskFormData>({\r\n    title: '',\r\n    description: '',\r\n    estimatedTime: '',\r\n    priority: 'medium',\r\n  });\r\n\r\n  const titleInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setFormData({\r\n        title: initialData.title || '',\r\n        description: initialData.description || '',\r\n        estimatedTime: initialData.estimatedTime || '',\r\n        priority: initialData.priority || 'medium',\r\n      });\r\n    }\r\n  }, [initialData]);\r\n\r\n  useEffect(() => {\r\n    // Auto-focus the title input when form opens\r\n    if (titleInputRef.current) {\r\n      titleInputRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.title.trim()) {\r\n      alert('Please enter a task title');\r\n      return;\r\n    }\r\n\r\n    const newTask = createTask(formData, taskType, parentId);\r\n    onSubmit(newTask);\r\n  };\r\n\r\n  const handleChange = (field: keyof TaskFormData, value: string | TaskPriority) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const getTaskTypeLabel = () => {\r\n    switch (taskType) {\r\n      case 'main':\r\n        return 'Task';\r\n      case 'subtask':\r\n        return 'Subtask';\r\n      case 'nextStep':\r\n        return 'Next Step';\r\n      default:\r\n        return 'Task';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n        <div className=\"mt-3\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              {isEditing ? 'Edit' : 'Create'} {getTaskTypeLabel()}\r\n            </h3>\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Form */}\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            {/* Title */}\r\n            <div>\r\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Title *\r\n              </label>\r\n              <input\r\n                ref={titleInputRef}\r\n                type=\"text\"\r\n                id=\"title\"\r\n                value={formData.title}\r\n                onChange={(e) => handleChange('title', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Enter task title\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                id=\"description\"\r\n                value={formData.description}\r\n                onChange={(e) => handleChange('description', e.target.value)}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Enter task description (optional)\"\r\n              />\r\n            </div>\r\n\r\n            {/* Priority */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Priority\r\n              </label>\r\n              <PrioritySelector\r\n                value={formData.priority}\r\n                onChange={(priority) => handleChange('priority', priority)}\r\n              />\r\n            </div>\r\n\r\n            {/* Estimated Time */}\r\n            <div>\r\n              <label htmlFor=\"estimatedTime\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Estimated Time (minutes)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"estimatedTime\"\r\n                value={formData.estimatedTime}\r\n                onChange={(e) => handleChange('estimatedTime', e.target.value)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Enter estimated time in minutes\"\r\n                min=\"0\"\r\n              />\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex items-center justify-end space-x-3 pt-4\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onCancel}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                {isEditing ? 'Update' : 'Create'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}