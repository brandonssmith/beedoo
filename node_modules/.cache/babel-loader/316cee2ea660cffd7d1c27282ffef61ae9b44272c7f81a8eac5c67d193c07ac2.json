{"ast":null,"code":"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { useLexicalComposerContext as t } from \"@lexical/react/LexicalComposerContext\";\nimport { useLexicalEditable as e } from \"@lexical/react/useLexicalEditable\";\nimport { $canShowPlaceholderCurry as r } from \"@lexical/text\";\nimport { mergeRegister as o } from \"@lexical/utils\";\nimport { useLayoutEffect as n, useEffect as i, useState as c, useMemo as l, Suspense as a } from \"react\";\nimport { flushSync as u, createPortal as m } from \"react-dom\";\nimport { jsx as s, jsxs as d, Fragment as f } from \"react/jsx-runtime\";\nimport { registerDragonSupport as p } from \"@lexical/dragon\";\nimport { registerRichText as x } from \"@lexical/rich-text\";\nconst g = \"undefined\" != typeof window && void 0 !== window.document && void 0 !== window.document.createElement ? n : i;\nfunction E(t) {\n  return t.getEditorState().read(r(t.isComposing()));\n}\nfunction h(_ref) {\n  let {\n    contentEditable: e,\n    placeholder: r = null,\n    ErrorBoundary: n\n  } = _ref;\n  const [E] = t(),\n    h = function (t, e) {\n      const [r, o] = c(() => t.getDecorators());\n      return g(() => t.registerDecoratorListener(t => {\n        u(() => {\n          o(t);\n        });\n      }), [t]), i(() => {\n        o(t.getDecorators());\n      }, [t]), l(() => {\n        const o = [],\n          n = Object.keys(r);\n        for (let i = 0; i < n.length; i++) {\n          const c = n[i],\n            l = s(e, {\n              onError: e => t._onError(e),\n              children: s(a, {\n                fallback: null,\n                children: r[c]\n              })\n            }),\n            u = t.getElementByKey(c);\n          null !== u && o.push(m(l, u, c));\n        }\n        return o;\n      }, [e, r, t]);\n    }(E, n);\n  return function (t) {\n    g(() => o(x(t), p(t)), [t]);\n  }(E), d(f, {\n    children: [e, s(w, {\n      content: r\n    }), h]\n  });\n}\nfunction w(_ref2) {\n  let {\n    content: r\n  } = _ref2;\n  const [n] = t(),\n    i = function (t) {\n      const [e, r] = c(() => E(t));\n      return g(() => {\n        function e() {\n          const e = E(t);\n          r(e);\n        }\n        return e(), o(t.registerUpdateListener(() => {\n          e();\n        }), t.registerEditableListener(() => {\n          e();\n        }));\n      }, [t]), e;\n    }(n),\n    l = e();\n  return i ? \"function\" == typeof r ? r(l) : r : null;\n}\nexport { h as RichTextPlugin };","map":{"version":3,"names":["useLexicalComposerContext","t","useLexicalEditable","e","$canShowPlaceholderCurry","r","mergeRegister","o","useLayoutEffect","n","useEffect","i","useState","c","useMemo","l","Suspense","a","flushSync","u","createPortal","m","jsx","s","jsxs","d","Fragment","f","registerDragonSupport","p","registerRichText","x","g","window","document","createElement","E","getEditorState","read","isComposing","h","_ref","contentEditable","placeholder","ErrorBoundary","getDecorators","registerDecoratorListener","Object","keys","length","onError","_onError","children","fallback","getElementByKey","push","w","content","_ref2","registerUpdateListener","registerEditableListener","RichTextPlugin"],"sources":["C:/Code/beedoo/node_modules/@lexical/react/LexicalRichTextPlugin.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{useLexicalComposerContext as t}from\"@lexical/react/LexicalComposerContext\";import{useLexicalEditable as e}from\"@lexical/react/useLexicalEditable\";import{$canShowPlaceholderCurry as r}from\"@lexical/text\";import{mergeRegister as o}from\"@lexical/utils\";import{useLayoutEffect as n,useEffect as i,useState as c,useMemo as l,Suspense as a}from\"react\";import{flushSync as u,createPortal as m}from\"react-dom\";import{jsx as s,jsxs as d,Fragment as f}from\"react/jsx-runtime\";import{registerDragonSupport as p}from\"@lexical/dragon\";import{registerRichText as x}from\"@lexical/rich-text\";const g=\"undefined\"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n:i;function E(t){return t.getEditorState().read(r(t.isComposing()))}function h({contentEditable:e,placeholder:r=null,ErrorBoundary:n}){const[E]=t(),h=function(t,e){const[r,o]=c((()=>t.getDecorators()));return g((()=>t.registerDecoratorListener((t=>{u((()=>{o(t)}))}))),[t]),i((()=>{o(t.getDecorators())}),[t]),l((()=>{const o=[],n=Object.keys(r);for(let i=0;i<n.length;i++){const c=n[i],l=s(e,{onError:e=>t._onError(e),children:s(a,{fallback:null,children:r[c]})}),u=t.getElementByKey(c);null!==u&&o.push(m(l,u,c))}return o}),[e,r,t])}(E,n);return function(t){g((()=>o(x(t),p(t))),[t])}(E),d(f,{children:[e,s(w,{content:r}),h]})}function w({content:r}){const[n]=t(),i=function(t){const[e,r]=c((()=>E(t)));return g((()=>{function e(){const e=E(t);r(e)}return e(),o(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),e}(n),l=e();return i?\"function\"==typeof r?r(l):r:null}export{h as RichTextPlugin};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}