{"ast":null,"code":"import React,{useState,useEffect}from'react';import{X}from'lucide-react';import RichTextEditor from'./RichTextEditor';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NoteForm=_ref=>{var _initialData$tags;let{onSubmit,onCancel,initialData}=_ref;const[formData,setFormData]=useState({title:(initialData===null||initialData===void 0?void 0:initialData.title)||'',content:(initialData===null||initialData===void 0?void 0:initialData.content)||'',// now stores serialized Lexical state\ntags:(initialData===null||initialData===void 0?void 0:(_initialData$tags=initialData.tags)===null||_initialData$tags===void 0?void 0:_initialData$tags.join(', '))||''});// Sync formData with initialData when editing a note\nuseEffect(()=>{var _initialData$tags2;setFormData({title:(initialData===null||initialData===void 0?void 0:initialData.title)||'',content:(initialData===null||initialData===void 0?void 0:initialData.content)||'',tags:(initialData===null||initialData===void 0?void 0:(_initialData$tags2=initialData.tags)===null||_initialData$tags2===void 0?void 0:_initialData$tags2.join(', '))||''});},[initialData]);const handleSubmit=e=>{e.preventDefault();if(!formData.title.trim()){alert('Please enter a title');return;}const tags=formData.tags.split(',').map(tag=>tag.trim()).filter(tag=>tag.length>0);const newNote={id:(initialData===null||initialData===void 0?void 0:initialData.id)||Date.now().toString(),title:formData.title.trim(),content:formData.content,// store serialized Lexical state\ntags,createdAt:(initialData===null||initialData===void 0?void 0:initialData.createdAt)||new Date(),updatedAt:new Date(),type:'main'};onSubmit(newNote);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:initialData?'Edit Note':'Create New Note'}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",value:formData.title,onChange:e=>setFormData({...formData,title:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter note title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Content\"}),/*#__PURE__*/_jsx(RichTextEditor,{value:formData.content,onChange:content=>setFormData({...formData,content}),placeholder:\"Enter note content...\",className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tags\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"tags\",value:formData.tags,onChange:e=>setFormData({...formData,tags:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter tags separated by commas (e.g., work, ideas, todo)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Separate multiple tags with commas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:initialData?'Update Note':'Create Note'})]})]})]})})});};export default NoteForm;","map":{"version":3,"names":["React","useState","useEffect","X","RichTextEditor","jsx","_jsx","jsxs","_jsxs","NoteForm","_ref","_initialData$tags","onSubmit","onCancel","initialData","formData","setFormData","title","content","tags","join","_initialData$tags2","handleSubmit","e","preventDefault","trim","alert","split","map","tag","filter","length","newNote","id","Date","now","toString","createdAt","updatedAt","type","className","children","onClick","htmlFor","value","onChange","target","placeholder","required"],"sources":["C:/Code/beedoo/src/components/NoteForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Note, NoteFormData } from '../types/Note';\r\nimport { X } from 'lucide-react';\r\nimport RichTextEditor from './RichTextEditor';\r\n\r\ninterface NoteFormProps {\r\n  onSubmit: (note: Note) => void;\r\n  onCancel: () => void;\r\n  initialData?: Partial<Note>;\r\n}\r\n\r\nconst NoteForm: React.FC<NoteFormProps> = ({ onSubmit, onCancel, initialData }) => {\r\n  const [formData, setFormData] = useState<NoteFormData>({\r\n    title: initialData?.title || '',\r\n    content: initialData?.content || '', // now stores serialized Lexical state\r\n    tags: initialData?.tags?.join(', ') || '',\r\n  });\r\n\r\n  // Sync formData with initialData when editing a note\r\n  useEffect(() => {\r\n    setFormData({\r\n      title: initialData?.title || '',\r\n      content: initialData?.content || '',\r\n      tags: initialData?.tags?.join(', ') || '',\r\n    });\r\n  }, [initialData]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.title.trim()) {\r\n      alert('Please enter a title');\r\n      return;\r\n    }\r\n\r\n    const tags = formData.tags\r\n      .split(',')\r\n      .map(tag => tag.trim())\r\n      .filter(tag => tag.length > 0);\r\n\r\n    const newNote: Note = {\r\n      id: initialData?.id || Date.now().toString(),\r\n      title: formData.title.trim(),\r\n      content: formData.content, // store serialized Lexical state\r\n      tags,\r\n      createdAt: initialData?.createdAt || new Date(),\r\n      updatedAt: new Date(),\r\n      type: 'main',\r\n    };\r\n\r\n    onSubmit(newNote);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n      <div className=\"relative top-20 mx-auto p-5 border w-[600px] shadow-lg rounded-md bg-white\">\r\n        <div className=\"mt-3\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              {initialData ? 'Edit Note' : 'Create New Note'}\r\n            </h3>\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <X className=\"h-6 w-6\" />\r\n            </button>\r\n          </div>\r\n          \r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div>\r\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Title *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"title\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Enter note title\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Content\r\n              </label>\r\n              <RichTextEditor\r\n                value={formData.content}\r\n                onChange={(content) => setFormData({ ...formData, content })}\r\n                placeholder=\"Enter note content...\"\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label htmlFor=\"tags\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Tags\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"tags\"\r\n                value={formData.tags}\r\n                onChange={(e) => setFormData({ ...formData, tags: e.target.value })}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                placeholder=\"Enter tags separated by commas (e.g., work, ideas, todo)\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                Separate multiple tags with commas\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-3 pt-4\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onCancel}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                {initialData ? 'Update Note' : 'Create Note'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}