{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{createTask}from'../utils/taskUtils';import{X}from'lucide-react';import PrioritySelector from'./PrioritySelector';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TaskForm=_ref=>{let{onSubmit,onCancel,taskType='main',parentId,initialData,isEditing=false}=_ref;const[formData,setFormData]=useState({title:'',description:'',estimatedTime:'',priority:'medium'});const titleInputRef=useRef(null);useEffect(()=>{if(initialData){setFormData({title:initialData.title||'',description:initialData.description||'',estimatedTime:initialData.estimatedTime||'',priority:initialData.priority||'medium'});}},[initialData]);useEffect(()=>{// Auto-focus the title input when form opens\nif(titleInputRef.current){titleInputRef.current.focus();}},[]);const handleSubmit=e=>{e.preventDefault();if(!formData.title.trim()){alert('Please enter a task title');return;}const newTask=createTask(formData,taskType,parentId);onSubmit(newTask);};const handleChange=(field,value)=>{setFormData(prev=>({...prev,[field]:value}));};const getTaskTypeLabel=()=>{switch(taskType){case'main':return'Task';case'subtask':return'Subtask';case'nextStep':return'Next Step';default:return'Task';}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[isEditing?'Edit':'Create',\" \",getTaskTypeLabel()]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{ref:titleInputRef,type:\"text\",id:\"title\",value:formData.title,onChange:e=>handleChange('title',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter task title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:formData.description,onChange:e=>handleChange('description',e.target.value),rows:3,className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter task description (optional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Priority\"}),/*#__PURE__*/_jsx(PrioritySelector,{value:formData.priority,onChange:priority=>handleChange('priority',priority)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"estimatedTime\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Estimated Time (minutes)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"estimatedTime\",value:formData.estimatedTime,onChange:e=>handleChange('estimatedTime',e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",placeholder:\"Enter estimated time in minutes\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:isEditing?'Update':'Create'})]})]})]})})});};export default TaskForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","createTask","X","PrioritySelector","jsxs","_jsxs","jsx","_jsx","TaskForm","_ref","onSubmit","onCancel","taskType","parentId","initialData","isEditing","formData","setFormData","title","description","estimatedTime","priority","titleInputRef","current","focus","handleSubmit","e","preventDefault","trim","alert","newTask","handleChange","field","value","prev","getTaskTypeLabel","className","children","onClick","htmlFor","ref","type","id","onChange","target","placeholder","required","rows","min"],"sources":["C:/Code/beedoo/src/components/TaskForm.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Task, TaskFormData, TaskPriority } from '../types/Task';\nimport { createTask } from '../utils/taskUtils';\nimport { X } from 'lucide-react';\nimport PrioritySelector from './PrioritySelector';\n\ninterface TaskFormProps {\n  onSubmit: (task: Task) => void;\n  onCancel: () => void;\n  taskType?: 'main' | 'subtask' | 'nextStep';\n  parentId?: string;\n  initialData?: Partial<TaskFormData>;\n  isEditing?: boolean;\n}\n\nconst TaskForm: React.FC<TaskFormProps> = ({\n  onSubmit,\n  onCancel,\n  taskType = 'main',\n  parentId,\n  initialData,\n  isEditing = false,\n}) => {\n  const [formData, setFormData] = useState<TaskFormData>({\n    title: '',\n    description: '',\n    estimatedTime: '',\n    priority: 'medium',\n  });\n\n  const titleInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        title: initialData.title || '',\n        description: initialData.description || '',\n        estimatedTime: initialData.estimatedTime || '',\n        priority: initialData.priority || 'medium',\n      });\n    }\n  }, [initialData]);\n\n  useEffect(() => {\n    // Auto-focus the title input when form opens\n    if (titleInputRef.current) {\n      titleInputRef.current.focus();\n    }\n  }, []);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.title.trim()) {\n      alert('Please enter a task title');\n      return;\n    }\n\n    const newTask = createTask(formData, taskType, parentId);\n    onSubmit(newTask);\n  };\n\n  const handleChange = (field: keyof TaskFormData, value: string | TaskPriority) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const getTaskTypeLabel = () => {\n    switch (taskType) {\n      case 'main':\n        return 'Task';\n      case 'subtask':\n        return 'Subtask';\n      case 'nextStep':\n        return 'Next Step';\n      default:\n        return 'Task';\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              {isEditing ? 'Edit' : 'Create'} {getTaskTypeLabel()}\n            </h3>\n            <button\n              onClick={onCancel}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Title */}\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Title *\n              </label>\n              <input\n                ref={titleInputRef}\n                type=\"text\"\n                id=\"title\"\n                value={formData.title}\n                onChange={(e) => handleChange('title', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                placeholder=\"Enter task title\"\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                value={formData.description}\n                onChange={(e) => handleChange('description', e.target.value)}\n                rows={3}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                placeholder=\"Enter task description (optional)\"\n              />\n            </div>\n\n            {/* Priority */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Priority\n              </label>\n              <PrioritySelector\n                value={formData.priority}\n                onChange={(priority) => handleChange('priority', priority)}\n              />\n            </div>\n\n            {/* Estimated Time */}\n            <div>\n              <label htmlFor=\"estimatedTime\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Estimated Time (minutes)\n              </label>\n              <input\n                type=\"number\"\n                id=\"estimatedTime\"\n                value={formData.estimatedTime}\n                onChange={(e) => handleChange('estimatedTime', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                placeholder=\"Enter estimated time in minutes\"\n                min=\"0\"\n              />\n            </div>\n\n            {/* Buttons */}\n            <div className=\"flex items-center justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onCancel}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                {isEditing ? 'Update' : 'Create'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}